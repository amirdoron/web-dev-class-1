<!DOCTYPE html>

<head>

</head>

<body>

	<div>This client application is going to use Person web-service we just created ...</div>

	<span id="person-result">displaying ...</span>

	<!-- this is how we are loading external javascript dependency -->
	<script src="lib/jquery-1.10.2.js"></script>

	<!-- embedded javascript logic inside HTML -->
	<script>
		// use JQuery ajax to get data from person web-service
		$.ajax({
			url: "/person/get/1",
			cache: false,
			success: function(person)
			{
				var personResult = "Person id " + person.Id +
				" name " + person.Name +
				" Gender " + person.Gender;

				// using browser built in timeout capability
				window.setTimeout(function()
				{
					// use JQuery capability to modify HTML tags according to tag's id
					$('#person-result').html(personResult);
				}, 3000);
			}
		});

    // create Person object instance
		var newPerson = {
			Id: 2211,
			Name: "Stark the king of the north",
			Gender: "Male"
		};
    // send Person object to person web-service
		$.ajax({
			url: '/person/add',
			type: 'post',
			data: JSON.stringify(newPerson),
			contentType: 'application/json',
			dataType: 'json'
		});
	</script>

</body>


